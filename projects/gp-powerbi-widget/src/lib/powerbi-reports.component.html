<c8y-title>{{'Microsoft Power BI' | translate}} {{'reports' | translate}}
</c8y-title>
<c8y-action-bar-item  *ngIf="!settingsNotDefined" [placement]="'right'">
    <button id="selectReport"
            class="btn btn-link"
            title="{{'Add report' | translate}}"
            (click)="selectReport()"
            [disabled]="isLoading">
      <i [c8yIcon]="'plus-circle'"></i> {{'Add report' | translate}}
    </button>
</c8y-action-bar-item>
<c8y-action-bar-item  *ngIf="reportToDisplay" [placement]="'right'">
    <button id="removeReport"
            class="btn btn-link"
            (click)="removeReportTab(reportToDisplay)"
            title="{{'Remove report' | translate}}"
            [disabled]="isClosing">
      <i [c8yIcon]="'minus-circle'"></i> {{'Remove report' | translate}}
    </button>
</c8y-action-bar-item>
<div class="c8y-empty-state text-center"
     *ngIf="settingsNotDefined">
  <h1 class="c8y-icon c8y-icon-tools c8y-icon-duocolor"></h1>
  <h3>{{'Settings not completed.' | translate}}</h3>
  <p>{{'Settings need to be completed before you can access reports.' | translate}}</p>
</div>

<div class="c8y-empty-state text-center"
     *ngIf="(!embeddingInfo || !embeddingInfo.embeddingToken) && !settingsNotDefined">
  <h1>
    <i [c8yIcon]="'graph-report'"></i>
  </h1>
  <h3>{{'No report selected.' | translate}}</h3>
  <p>{{'Select a report from a workspace.' | translate}}</p>
  <div class="text-center">
    <button class="btn btn-primary"
            type="button"
            (click)="selectReport()"
            [disabled]="isLoading">
            <i c8yIcon="plus-circle"></i>
      {{ 'Add report' | translate }}
    </button>
  </div>
</div>

<div *ngIf="embeddingInfo">
  <cdh-powerbi-report [embeddingInfo]="embeddingInfo"
                      [reportName]="reportName"></cdh-powerbi-report>
</div>
