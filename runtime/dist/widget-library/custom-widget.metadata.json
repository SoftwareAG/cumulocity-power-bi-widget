{"__symbolic":"module","version":4,"metadata":{"GpPowerbiWidgetModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":30,"character":1},"arguments":[{"declarations":[{"__symbolic":"reference","name":"ɵa"},{"__symbolic":"reference","name":"ɵd"}],"imports":[{"__symbolic":"reference","module":"@c8y/ngx-components","name":"CoreModule","line":33,"character":4},{"__symbolic":"reference","module":"ngx-bootstrap/collapse","name":"CollapseModule","line":33,"character":16},{"__symbolic":"reference","module":"@angular/router","name":"RouterModule","line":33,"character":32},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"FormsModule","line":33,"character":46},{"__symbolic":"reference","module":"@angular/forms","name":"ReactiveFormsModule","line":33,"character":62},{"__symbolic":"call","expression":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@ngx-translate/core","name":"TranslateModule","line":34,"character":4},"member":"forRoot"}}],"providers":[{"__symbolic":"reference","name":"ɵc"},{"__symbolic":"reference","name":"ɵb"},{"__symbolic":"reference","module":"@ngx-translate/core","name":"TranslateService","line":39,"character":4},{"__symbolic":"reference","module":"@ngx-translate/core","name":"TranslateStore","line":40,"character":4},{"provide":{"__symbolic":"reference","module":"@c8y/ngx-components","name":"HOOK_COMPONENTS","line":42,"character":15},"multi":true,"useValue":{"id":"powerbi.widget","label":"Power BI Widget","description":"Power BI Widget","component":{"__symbolic":"reference","name":"ɵa"},"configComponent":{"__symbolic":"reference","name":"ɵd"},"data":{"ng1":{"options":{"noDeviceTarget":true,"noNewWidgets":false,"deviceTargetNotRequired":true,"groupsSelectable":true}}}}}],"exports":[{"__symbolic":"reference","name":"ɵa"},{"__symbolic":"reference","name":"ɵd"}],"entryComponents":[{"__symbolic":"reference","name":"ɵa"},{"__symbolic":"reference","name":"ɵd"}]}]}],"members":{}},"ɵa":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":24,"character":1},"arguments":[{"selector":"gp-powerbi-widget","styles":[],"template":"\r\n<div class=\"card content-fullpage\" style=\"height: 100%;\">\r\n    <div class=\"d-flex d-col inner-scroll fit-h\">\r\n    <div class=\"card-header separator sticky-top\">\r\n        <h4>\r\n\t\t\t\t<!-- We are doing some decoding of the report name due to the way we store the report name in the application \r\n\t\t\t\t\tDecoding may not be needed -->\r\n            <!-- {{\r\n          AppUtils.decodeUriComponent(reportName) !== reportName ?\r\n            AppUtils.decodeUriComponent(reportName) :\r\n            reportName\r\n            }}  -->\r\n\r\n            {{reportName}}\r\n            Power Bi Report\r\n        </h4>\r\n    </div>\r\n    <div class=\"flex-grow p-16\" style=\"height: 100%;\">\r\n      <div class=\"powerbi-report\" style=\"height: inherit;\" id=\"reportContainer\" #reportContainer>\r\n        <c8y-loading></c8y-loading>\r\n      </div>\r\n    </div>\r\n    </div>\r\n</div>\r\n"}]}],"members":{"reportContainer":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"ViewChild","line":36,"character":3},"arguments":["reportContainer",{"static":true}]}]}],"config":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":41,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"ɵb"},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"AlertService","line":50,"character":26},{"__symbolic":"reference","name":"ɵc"},{"__symbolic":"reference","module":"@ngx-translate/core","name":"TranslateService","line":52,"character":30}]}],"ngOnChanges":[{"__symbolic":"method"}],"ngOnInit":[{"__symbolic":"method"}],"embedReport":[{"__symbolic":"method"}],"loadReport":[{"__symbolic":"method"}],"getToken":[{"__symbolic":"method"}]}},"ɵb":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":27,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"ɵc"}]}],"setConfigRequestState":[{"__symbolic":"method"}],"getConfigRequestState":[{"__symbolic":"method"}],"getConfig":[{"__symbolic":"method"}],"save":[{"__symbolic":"method"}],"delete":[{"__symbolic":"method"}],"listWorkspaces":[{"__symbolic":"method"}],"listReports":[{"__symbolic":"method"}],"embedReport":[{"__symbolic":"method"}],"flushCache":[{"__symbolic":"method"}]},"statics":{"cachedInfoDefault":{"reports":[],"activeToken":"","settings":null}}},"ɵc":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":19,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@c8y/client","name":"FetchClient","line":22,"character":37}]}],"Get":[{"__symbolic":"method"}],"Head":[{"__symbolic":"method"}],"Post":[{"__symbolic":"method"}],"Delete":[{"__symbolic":"method"}],"getEndPoint":[{"__symbolic":"method"}]}},"ɵd":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":25,"character":1},"arguments":[{"selector":"gp-powerbi-config","template":"<div class=\"viewport-modal configSection\">\n  <div class='row'>\n    <div class=\"col-xs-3 col-md-3\">\n      <label for=\"Datahub URL\">\n        {{'DataHub URL' | translate}}\n      </label>\n      <input type=\"text\" [(ngModel)]=\"config.datahubEndPoint\">\n    </div>\n    <div class=\"col-xs-1 col-md-1 col-lg-1\"></div>\n    <div class=\"col-xs-3 col-md-3\">\n      <label for=\"Power BI URL\">\n        {{'Power BI URL' | translate}}\n      </label>\n      <input type=\"text\" [(ngModel)]=\"config.powerBIEndPoint\">\n    </div>\n    <div class=\"col-xs-1 col-md-1 col-lg-1\"></div>\n    <div class=\"col-xs-3 col-md-3\">\n\n      <button (click)=\"setUrlAndGetWorkspace()\" class=\"btn btn-primary\" style=\"margin-top: 24px;\n      line-height: 14px;\">\n        {{'Fetch Data' | translate}}</button>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-xs-3 col-md-3\">\n      <label class=\"c8y-checkbox checkbox-inline\" title=\"isFilterPaneEnabled\">\n        <input type=\"checkbox\" value=\"Add Stack\" [(ngModel)]=\"config.isFilterPaneEnabled\"\n          >\n        <span></span>\n        <span>{{'Filter Pane' | translate}}</span>\n      </label>\n    </div>\n    <div class=\"col-xs-1 col-md-1 col-lg-1\"></div>\n    <div class=\"col-xs-3 col-md-3\">\n      <label class=\"c8y-checkbox checkbox-inline\" title=\"isNavPaneEnabled\">\n        <input type=\"checkbox\" value=\"Add Stack\" [(ngModel)]=\"config.isNavPaneEnabled\"\n          >\n        <span></span>\n        <span>{{'Nav Pane' | translate}}</span>\n      </label>\n    </div>\n    \n  </div>\n  <div class=\"p-16 text-center separator-bottom\">\n    <p class=\"lead m-0\">{{'Select the workspace you want to access.' | translate }}</p>\n    <p class=\"lead m-0\">{{'Select a report from the selected workspace.'  | translate}}</p>\n  </div>\n  <form [formGroup]=\"form\">\n    <c8y-form-group>\n      <label for=\"workspace\">\n        {{'Workspace' | translate}}\n      </label>\n      <div class=\"c8y-select-wrapper\">\n        <select formControlName=\"workspace\" name=\"workspace\" id=\"workspace\">\n          <option *ngFor=\"let workspace of workspaces\" [ngValue]=\"workspace\">\n            {{ workspace.name }}\n          </option>\n        </select>\n      </div>\n    </c8y-form-group>\n    <c8y-form-group>\n      <label for=\"report\">\n        {{'Report'  | translate}}\n      </label>\n      <div *ngIf=\"visibleReports?.length === 0 || error || isLoading; else reportsSelect\">\n        <c8y-loading *ngIf=\"isLoading\"></c8y-loading>\n        <em *ngIf=\"!error && !isLoading; else errorMessage\"> No reports available for chosen workspace</em>\n        <ng-template #errorMessage>\n          <div *ngIf=\"error && !isLoading\">\n            <i [c8yIcon]=\"'warning'\" class=\"m-r-4 text-danger\"></i>\n            <em>{{ error }}</em>\n          </div>\n        </ng-template>\n      </div>\n      <ng-template #reportsSelect>\n        <div class=\"c8y-select-wrapper\">\n          <select formControlName=\"report\" name=\"report\" id=\"report\">\n            <option *ngFor=\"let report of visibleReports\" [ngValue]=\"report\">\n              {{ report.name }}\n            </option>\n          </select>\n        </div>\n      </ng-template>\n    </c8y-form-group>\n  </form>\n\n</div>","styles":[".configSection{display:grid;border:1px solid rgba(0,0,0,.3);border-radius:4px;margin:.25em;padding:.25em}.row{padding:.5em}"]}]}],"members":{"config":[{"__symbolic":"property","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Input","line":31,"character":3}}]}],"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"ɵb"},{"__symbolic":"reference","module":"@angular/forms","name":"FormBuilder","line":52,"character":16},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"AlertService","line":53,"character":26},{"__symbolic":"reference","name":"ɵc"},{"__symbolic":"reference","module":"@ngx-translate/core","name":"TranslateService","line":55,"character":30}]}],"ngOnInit":[{"__symbolic":"method"}],"setUrlAndGetWorkspace":[{"__symbolic":"method"}],"getReport":[{"__symbolic":"method"}],"extractWorkspaceIndex":[{"__symbolic":"method"}],"extractReportIndex":[{"__symbolic":"method"}],"initForm":[{"__symbolic":"method"}],"fetchReportsForFirstWorkspaceAndShow":[{"__symbolic":"method"}]}}},"origins":{"GpPowerbiWidgetModule":"./lib/gp-powerbi-widget.module","ɵa":"./lib/gp-powerbi-widget.component","ɵb":"./lib/powerbi.service","ɵc":"./lib/http.service","ɵd":"./lib/gp-powerbi-config/gp-powerbi-config.component"},"importAs":"powerbi-runtime-widget"}